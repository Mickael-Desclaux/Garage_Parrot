{% extends 'base.html.twig' %}

{% block body %}
	<div class="container-fluid">
		<div class="row mt-2">
			<nav aria-label="breadcrumb">
				<ol class="breadcrumb">
					<li class="breadcrumb-item">
						<a href="/">Accueil</a>
					</li>
					<li class="breadcrumb-item">
						<a href="/nos_voitures">Nos voitures</a>
					</li>
					<li class="breadcrumb-item active" aria-current="page">{{car.brand ~ " " ~ car.model}}</li>
				</ol>
			</nav>
		</div>
		<div class="row">
			<div class="col-lg-8 m-2">
				<div id="car-carousel" class="carousel slide" data-bs-ride="carousel">
					<div class="carousel-inner">
						{% for image in car.carImages %}
							{% if image.name %}
								<div class="carousel-item {% if loop.first %}active{% endif %}">
									<img src="{{ asset('images/cars/' ~ image.name) }}" alt="{{ car.brand }} {{ car.model }}" class="car-carousel-img">
								</div>
							{% endif %}
						{% endfor %}

					</div>
					<button class="carousel-control-prev" type="button" data-bs-target="#car-carousel" data-bs-slide="prev">
						<span class="carousel-control-prev-icon" aria-hidden="true"></span>
						<span class="sr-only">Précédent</span>
					</button>
					<button class="carousel-control-next" type="button" data-bs-target="#car-carousel" data-bs-slide="next">
						<span class="carousel-control-next-icon" aria-hidden="true"></span>
						<span class="sr-only">Suivant</span>
					</button>

				</div>
			</div>
			<div class="col-lg-3 d-flex justify-content-center table-media">
				<table>
					<thead>
						<tr>
							<th colspan="2">
								<h1>Détails</h1>
							</th>
						</tr>
					</thead>
					<tbody class="car-table">
						<tr>
							<td class="table-label">
								Marque
							</td>
							<td>
								{{ car.brand }}
							</td>
						</tr>
						<tr>
							<td class="table-label">
								Modèle
							</td>
							<td>
								{{ car.model }}
							</td>
						</tr>
						<tr>
							<td class="table-label">
								Année
							</td>
							<td>
								{{ car.year }}
							</td>
						</tr>
						<tr>
							<td class="table-label">
								Kilométrage
							</td>
							<td>
								{{ car.mileage }}
								km
							</td>
						</tr>
						<tr>
							<td class="table-label">
								Énergie
							</td>
							<td>
								{{ car.energy }}
							</td>
						</tr>
						<tr>
							<td class="table-label">
								Boîte de vitesse
							</td>
							<td>
								{{ car.gearbox }}
							</td>
						</tr>
						<tr>
							<td class="table-label">
								Nombre de portes
							</td>
							<td>
								{{ car.doors }}
							</td>
						</tr>
						<tr>
							<td class="table-label">
								Puissance
							</td>
							<td>
								{{ car.horsepower }}
								ch
							</td>
						</tr>
						<tr>
							<td class="table-label">
								Prix
							</td>
							<td>
								{{ car.price }}
								€
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>


		<div class="row mt-5">
			<div class="col-lg-12 mb-5">
				<h2 class="text-center">Ce véhicule vous intéresse? Contactez nous!</h2>
				{{ form_start(contact_form) }}
				{{ form_row(contact_form._token) }}
				<div class="mb-2 mt-4">
					{{ form_label(contact_form.subject, null, { 'label_attr': { 'class': 'form-label' }}) }}
					{{ form_widget(contact_form.subject, {'attr': { 'class': 'form-control', 'value': car.brand ~ ' ' ~ car.model, 'readonly': true}})}}
					{{ form_errors(contact_form.subject )}}
				</div>
				<div class="mb-2">
					{{ form_label(contact_form.firstname, null, { 'label_attr': { 'class': 'form-label' }}) }}
					{{ form_widget(contact_form.firstname, { 'attr': { 'class': 'form-control' }})}}
					{{ form_errors(contact_form.firstname )}}
				</div>
				<div class="mb-2">
					{{ form_label(contact_form.lastname, null, { 'label_attr': { 'class': 'form-label' }}) }}
					{{ form_widget(contact_form.lastname, { 'attr': { 'class': 'form-control' }})}}
					{{ form_errors(contact_form.lastname )}}
				</div>
				<div class="mb-2">
					{{ form_label(contact_form.phone, null, { 'label_attr': { 'class': 'form-label' }}) }}
					{{ form_widget(contact_form.phone, { 'attr': { 'class': 'form-control' }})}}
					{{ form_errors(contact_form.phone )}}
				</div>
				<div class="mb-2">
					{{ form_label(contact_form.email, null, { 'label_attr': { 'class': 'form-label' }}) }}
					{{ form_widget(contact_form.email, { 'attr': { 'class': 'form-control' }})}}
					{{ form_errors(contact_form.email )}}
				</div>
				<div class="mb-2">
					{{ form_label(contact_form.message, null, { 'label_attr': { 'class': 'form-label' }}) }}
					{{ form_widget(contact_form.message, { 'attr': { 'class': 'form-control' }})}}
					{{ form_errors(contact_form.message )}}
				</div>
				<div class="mt-3">{{ form_widget(contact_form.submit, { 'attr': {'class': 'btn btn-danger mt-1'} }) }}</div>
				{{ form_end(contact_form) }}
			</div>
			<div class="col-lg-12 text-center mb-5">
				<h3>Ou par téléphone pendant les heures d'ouvertures du garage : <a href="tel:+123456789">01 23 45 67 89</a></h3>
			</div>
		</div>

	</div>
{% endblock %}

